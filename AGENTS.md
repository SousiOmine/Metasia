# このリポジトリについて

このリポジトリには、マルチプラットフォーム対応の動画編集ソフトウェア "Metasia" のソースコードが格納されています。
Metasiaは主にC# (.NET 9.0) とAvalonia UIによって構築されています。

### 技術スタック
* **言語**: `C#`
* **プラットフォーム**: `.NET 9.0`
* **UIフレームワーク**: `Avalonia UI`
* **グラフィックス**: `SkiaSharp` (2Dグラフィックス描画に使用)

---

### リポジトリの構造

このプロジェクトは、責務に応じて主に以下のプロジェクトに分割されています。

1.  **`Metasia.Core`**
    * 動画編集の核となるバックエンドロジックを担当します。
    * GUIフレームワークには依存せず、オブジェクトモデル、レンダリングパイプライン、ファイルI/O（JSONシリアライズ）、音声処理などの基本的な機能を含みます。
    * タイムライン (`TimelineObject`)、レイヤー (`LayerObject`)、各種メディアオブジェクト (`Text`など) の定義が含まれています。

2.  **`Metasia.Editor`**
    * `Avalonia UI`を使用して構築されたGUI部分（フロントエンド）です。
    * ユーザーインターフェースとユーザー操作の処理を担当します。
    * アーキテクチャとして**MVVM (Model-View-ViewModel)** パターンを採用しています。

3.  **`Metasia.Core.Tests`**
    * `Metasia.Core`ライブラリの単体テストプロジェクトです。
    * NUnitフレームワークを使用しています。

4.  **`Metasia.Editor.Tests`**
    * `Metasia.Editor`アプリケーションの単体テストプロジェクトです。
    * NUnitとMoqフレームワークを使用しています。

---

### 主な特徴
* **タイムラインベースの編集**: レイヤーとクリップを用いた直感的な編集が可能です。
* **プロパティアニメーション**: `Jint`ライブラリを利用し、オブジェクトのプロパティを時間経過で動的に変化させることができます。
* **JSONベースのプロジェクトファイル**: プロジェクトの状態は、人間が判読可能なJSON形式で保存されます。
* **コマンドパターンによる編集履歴**: Undo/Redo機能が実装されており、安全な編集が可能です。